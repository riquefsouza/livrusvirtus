<html>
<head>
<title>Livrus Virtus - Scripts SQL - PostgreSql</title>
</head>
<!-- Generated by ConTEXT HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  face="Courier New"><font color="#000080">cd </font><font color="#808080">..
</font><font color="#000080">ipc</font><font color="#808080">-</font><font color="#000080">daemon2 </font><font color="#808080">&amp;
</font><font color="#000080">initdb </font><font color="#808080">/</font><font color="#000080">var</font><font color="#808080">/</font><font color="#000080">livrus
</font><font color="#808080">/</font><font color="#000080">usr</font><font color="#808080">/</font><font color="#000080">bin</font><font color="#808080">/</font><font color="#000080">postmaster </font><font color="#808080">-</font><font color="#000080">i </font><font color="#808080">-</font><font color="#000080">D </font><font color="#808080">/</font><font color="#000080">var</font><font color="#808080">/</font><font color="#000080">livrus ou
</font><font color="#808080">/</font><font color="#000080">usr</font><font color="#808080">/</font><font color="#000080">bin</font><font color="#808080">/</font><font color="#000080">pg_ctl </font><font color="#808080">-</font><font color="#000080">D </font><font color="#808080">/</font><font color="#000080">var</font><font color="#808080">/</font><font color="#000080">livrus </font><font color="#808080">-</font><font color="#000080">l logfile <b>start
</b></font><font color="#808080">/</font><font color="#000080">usr</font><font color="#808080">/</font><font color="#000080">bin</font><font color="#808080">/</font><font color="#000080">pg_ctl </font><font color="#808080">-</font><font color="#000080">D </font><font color="#808080">/</font><font color="#000080">var</font><font color="#808080">/</font><font color="#000080">livrus stop

<b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">assunto </font><font color="#808080">(
  </font><font color="#000080">codassunto int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080">assunto <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>assunto_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">autor </font><font color="#808080">(
  </font><font color="#000080">codautor int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080">autor <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>autor_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">editora </font><font color="#808080">(
  </font><font color="#000080">codeditora int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080">editora <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>editora_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">endereco </font><font color="#808080">(
  </font><font color="#000080">codendereco int4 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">,
  </font><font color="#000080">logradouro <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">40</font><font color="#808080">) ,
  </font><font color="#000080">bairro <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">15</font><font color="#808080">) ,
  </font><font color="#000080">cep <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">8</font><font color="#808080">) ,
  </font><font color="#000080">cidade <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">estado <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">20</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>endereco_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">idioma </font><font color="#808080">(
  </font><font color="#000080">codidioma int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080">idioma <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">20</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>idioma_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">pais </font><font color="#808080">(
  </font><font color="#000080">codpais char</font><font color="#808080">(</font><font color="#FF0000">3</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">bpchar</font><font color="#808080">,
  </font><font color="#000080">pais <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>pais_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">profissao </font><font color="#808080">(
  </font><font color="#000080">codprofissao int4 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">,
  </font><font color="#000080">profissao <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>profissao_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">cliente </font><font color="#808080">(
  </font><font color="#000080">cpf <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">14</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">email <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">nome <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">identidade <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">) ,
  </font><font color="#000080">codendereco int4 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">,
  </font><font color="#000080">telefone <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">17</font><font color="#808080">) ,
  </font><font color="#000080">codpais char</font><font color="#808080">(</font><font color="#FF0000">3</font><font color="#808080">) ,
  </font><font color="#000080">codprofissao int4 </font><font color="#808080">,
  </font><font color="#000080">sexo char</font><font color="#808080">(</font><font color="#FF0000">1</font><font color="#808080">) ,
  </font><font color="#000080">datanasc <b>timestamp </b></font><font color="#808080">,
  </font><font color="#000080"><b>CONSTRAINT </b>cliente_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>cliente_endereco_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">) </font><font color="#000080">REFERENCES endereco</font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>cliente_pais_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">) </font><font color="#000080">REFERENCES pais</font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>cliente_profissao_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">) </font><font color="#000080">REFERENCES profissao</font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">livro </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">titulo <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080">edicao int2</font><font color="#808080">,
  </font><font color="#000080">anopubli int2</font><font color="#808080">,
  </font><font color="#000080">codeditora int2</font><font color="#808080">,
  </font><font color="#000080">volume int2</font><font color="#808080">,
  </font><font color="#000080">codidioma int2</font><font color="#808080">,
  </font><font color="#000080">npaginas int2</font><font color="#808080">,
  </font><font color="#000080">preco float8</font><font color="#808080">,
  </font><font color="#000080">qtdestoque int2</font><font color="#808080">,
  </font><font color="#000080"><b>CONSTRAINT </b>livro_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livro_editora_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">) </font><font color="#000080">REFERENCES editora</font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livro_idioma_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">) </font><font color="#000080">REFERENCES idioma</font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">livroass </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">codassunto int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080"><b>CONSTRAINT </b>livroass_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livroass_livro_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livroass_assunto_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">) </font><font color="#000080">REFERENCES assunto</font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">livroaut </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">codautor int2 <b>NOT NULL DEFAULT </b></font><font color="#FF0000">0</font><font color="#808080">::</font><font color="#000080">smallint</font><font color="#808080">,
  </font><font color="#000080"><b>CONSTRAINT </b>livroaut_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livroaut_livro_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>livroaut_autor_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">) </font><font color="#000080">REFERENCES autor</font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">usuario </font><font color="#808080">(
  </font><font color="#000080">login <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">senha <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">) ,
  </font><font color="#000080"><b>CONSTRAINT </b>usuario_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">login</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>public</font><font color="#808080">.</font><font color="#000080">venda </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">cpf <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">14</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL DEFAULT </b></font><font color="#800000">''</font><font color="#808080">::</font><font color="#000080">character <b>varying</b></font><font color="#808080">,
  </font><font color="#000080">datavenda <b>timestamp NOT NULL</b></font><font color="#808080">,
  </font><font color="#000080">precovenda float8</font><font color="#808080">,
  </font><font color="#000080"><b>CONSTRAINT </b>venda_pk <b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">,</font><font color="#000080">datavenda</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>venda_livro_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>CONSTRAINT </b>venda_cliente_fk <b>FOREIGN KEY </b></font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">) </font><font color="#000080">REFERENCES cliente</font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">)
) </font><font color="#000080"><b>WITH </b>OIDS</font><font color="#808080">;

</font></font>
</code></pre>
</body>
</html>