<html>
<head>
<title>Livrus Virtus - Scripts SQL - SqlBase</title>
</head>
<!-- Generated by ConTEXT HTML exporter -->
<body text="#000000" bgcolor="#FFFFFF">
<pre>
<code><font  face="Courier New"><font color="#000080"><b>set </b>server server1</font><font color="#808080">;

</font><font color="#000080"><b>create database </b>livrus</font><font color="#808080">;

</font><font color="#000080"><b>connect </b>livrus</font><font color="#808080">;

</font><font color="#000080">use livrus</font><font color="#808080">;

</font><font color="#000080"><b>select </b></font><font color="#808080">* </font><font color="#000080"><b>from </b>systables <b>where type</b></font><font color="#808080">=</font><font color="#800000">'T' </font><font color="#000080"><b>and </b>system</font><font color="#808080">=</font><font color="#800000">'N'</font><font color="#808080">;

</font><font color="#000080"><b>CREATE TABLE </b>assunto </font><font color="#808080">(
  </font><font color="#000080">codassunto smallint <b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">assunto <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>assunto_pk <b>on </b>assunto</font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>autor </font><font color="#808080">(
  </font><font color="#000080">codautor smallint <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">autor <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>autor_pk <b>on </b>autor</font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>editora </font><font color="#808080">(
  </font><font color="#000080">codeditora smallint <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">editora <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>editora_pk <b>on </b>editora</font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>endereco </font><font color="#808080">(
  </font><font color="#000080">codendereco integer <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">logradouro <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">40</font><font color="#808080">) ,
  </font><font color="#000080">bairro <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">15</font><font color="#808080">) ,
  </font><font color="#000080">cep <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">8</font><font color="#808080">) ,
  </font><font color="#000080">cidade <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">estado <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">20</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>endereco_pk <b>on </b>endereco</font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>idioma </font><font color="#808080">(
  </font><font color="#000080">codidioma smallint <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">idioma <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">20</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>idioma_pk <b>on </b>idioma</font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>pais </font><font color="#808080">(
  </font><font color="#000080">codpais char</font><font color="#808080">(</font><font color="#FF0000">3</font><font color="#808080">)  </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">pais <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>pais_pk <b>on </b>pais</font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>profissao </font><font color="#808080">(
  </font><font color="#000080">codprofissao integer <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">profissao <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>profissao_pk <b>on </b>profissao</font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>cliente </font><font color="#808080">(
  </font><font color="#000080">cpf <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">14</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">email <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">nome <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">30</font><font color="#808080">) ,
  </font><font color="#000080">identidade <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">) ,
  </font><font color="#000080">codendereco integer <b>NOT NULL WITH DEFAULT </b></font><font color="#808080">,
  </font><font color="#000080">telefone <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">17</font><font color="#808080">) ,
  </font><font color="#000080">codpais char</font><font color="#808080">(</font><font color="#FF0000">3</font><font color="#808080">) ,
  </font><font color="#000080">codprofissao integer </font><font color="#808080">,
  </font><font color="#000080">sexo char</font><font color="#808080">(</font><font color="#FF0000">1</font><font color="#808080">) ,
  </font><font color="#000080">datanasc <b>timestamp </b></font><font color="#808080">,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">),
  </font><font color="#000080"><b>FOREIGN KEY </b>cli_ende</font><font color="#808080">(</font><font color="#000080">codendereco</font><font color="#808080">) </font><font color="#000080">REFERENCES endereco</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>cli_pais</font><font color="#808080">(</font><font color="#000080">codpais</font><font color="#808080">) </font><font color="#000080">REFERENCES pais</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>cli_prof</font><font color="#808080">(</font><font color="#000080">codprofissao</font><font color="#808080">) </font><font color="#000080">REFERENCES profissao
</font><font color="#808080">);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>cliente_pk <b>on </b>cliente</font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>livro </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">titulo <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">50</font><font color="#808080">) ,
  </font><font color="#000080">edicao smallint</font><font color="#808080">,
  </font><font color="#000080">anopubli smallint</font><font color="#808080">,
  </font><font color="#000080">codeditora smallint</font><font color="#808080">,
  </font><font color="#000080">volume smallint</font><font color="#808080">,
  </font><font color="#000080">codidioma smallint</font><font color="#808080">,
  </font><font color="#000080">npaginas smallint</font><font color="#808080">,
  </font><font color="#000080">preco float </font><font color="#808080">,
  </font><font color="#000080">qtdestoque smallint</font><font color="#808080">,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>FOREIGN KEY </b>liv_edit</font><font color="#808080">(</font><font color="#000080">codeditora</font><font color="#808080">) </font><font color="#000080">REFERENCES editora</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>liv_idio</font><font color="#808080">(</font><font color="#000080">codidioma</font><font color="#808080">) </font><font color="#000080">REFERENCES idioma
</font><font color="#808080">);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>livro_pk <b>on </b>livro</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>livroass </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">codassunto smallint <b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>FOREIGN KEY </b>lass_liv</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>lass_ass</font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">) </font><font color="#000080">REFERENCES assunto
</font><font color="#808080">);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>livroass_pk <b>on </b>livroass</font><font color="#808080">(</font><font color="#000080">codassunto</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>livroaut </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">)  </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">codautor smallint <b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>FOREIGN KEY </b>laut_liv</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>laut_aut</font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">) </font><font color="#000080">REFERENCES autor
</font><font color="#808080">);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>livroaut_pk <b>on </b>livroaut</font><font color="#808080">(</font><font color="#000080">codautor</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>usuario </font><font color="#808080">(
  </font><font color="#000080">login <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">)  </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">senha <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">10</font><font color="#808080">) ,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">login</font><font color="#808080">)
);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>usuario_pk <b>on </b>usuario</font><font color="#808080">(</font><font color="#000080">login</font><font color="#808080">);

</font><font color="#000080"><b>CREATE TABLE </b>venda </font><font color="#808080">(
  </font><font color="#000080">isbn <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">13</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">cpf <b>varchar</b></font><font color="#808080">(</font><font color="#FF0000">14</font><font color="#808080">) </font><font color="#000080"><b>NOT NULL WITH DEFAULT</b></font><font color="#808080">,
  </font><font color="#000080">datavenda <b>timestamp NOT NULL</b></font><font color="#808080">,
  </font><font color="#000080">precovenda float </font><font color="#808080">,
  </font><font color="#000080"><b>PRIMARY KEY </b></font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">,</font><font color="#000080">datavenda</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">),
  </font><font color="#000080"><b>FOREIGN KEY </b>ven_liv</font><font color="#808080">(</font><font color="#000080">isbn</font><font color="#808080">) </font><font color="#000080">REFERENCES livro</font><font color="#808080">,
  </font><font color="#000080"><b>FOREIGN KEY </b>ven_cli</font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">) </font><font color="#000080">REFERENCES cliente
</font><font color="#808080">);

</font><font color="#000080"><b>CREATE UNIQUE INDEX </b>venda_pk <b>on </b>venda</font><font color="#808080">(</font><font color="#000080">cpf</font><font color="#808080">,</font><font color="#000080">datavenda</font><font color="#808080">,</font><font color="#000080">isbn</font><font color="#808080">);
</font></font>
</code></pre>
</body>
</html>